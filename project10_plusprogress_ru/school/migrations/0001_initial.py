# Generated by Django 5.2.11 on 2026-02-24 18:46

import django.contrib.auth.models
import django.contrib.auth.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Lesson',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rescheduled_from', models.DateTimeField(blank=True, null=True, verbose_name='–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ —Å')),
                ('rescheduled_to', models.DateTimeField(blank=True, null=True, verbose_name='–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –Ω–∞')),
                ('rescheduled_reason', models.TextField(blank=True, verbose_name='–ü—Ä–∏—á–∏–Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞')),
                ('date', models.DateField(verbose_name='–î–∞—Ç–∞')),
                ('start_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞')),
                ('end_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è')),
                ('duration', models.IntegerField(default=60, verbose_name='–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç)')),
                ('base_cost', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å')),
                ('base_teacher_payment', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–ë–∞–∑–æ–≤–∞—è –≤—ã–ø–ª–∞—Ç–∞ —É—á–∏—Ç–µ–ª—é')),
                ('price_type', models.CharField(choices=[('fixed', '–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞ –≤—Å–µ—Ö'), ('per_student', '–ó–∞ –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞'), ('individual', '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ')], default='per_student', max_length=20, verbose_name='–¢–∏–ø –æ–ø–ª–∞—Ç—ã')),
                ('meeting_link', models.URLField(blank=True, verbose_name='–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ')),
                ('meeting_platform', models.CharField(blank=True, max_length=50, verbose_name='–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞')),
                ('video_room', models.CharField(blank=True, help_text='–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è Jitsi Meet', max_length=100, null=True, verbose_name='–ö–æ–º–Ω–∞—Ç–∞ –¥–ª—è –≤–∏–¥–µ–æ')),
                ('status', models.CharField(choices=[('scheduled', '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ'), ('completed', '–ü—Ä–æ–≤–µ–¥–µ–Ω–æ'), ('cancelled', '–û—Ç–º–µ–Ω–µ–Ω–æ'), ('no_show', '–£—á–µ–Ω–∏–∫ –Ω–µ —è–≤–∏–ª—Å—è'), ('overdue', '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ'), ('rescheduled', '–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ')], default='scheduled', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('notes', models.TextField(blank=True, verbose_name='–ó–∞–º–µ—Ç–∫–∏')),
                ('is_group', models.BooleanField(default=False, verbose_name='–ì—Ä—É–ø–ø–æ–≤–æ–π —É—Ä–æ–∫')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
            ],
            options={
                'verbose_name': '–ó–∞–Ω—è—Ç–∏–µ',
                'verbose_name_plural': '–ó–∞–Ω—è—Ç–∏—è',
                'ordering': ['-date', '-start_time'],
            },
        ),
        migrations.CreateModel(
            name='LessonFormat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ')),
                ('description', models.TextField(blank=True, verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
            ],
            options={
                'verbose_name': '–§–æ—Ä–º–∞—Ç –∑–∞–Ω—è—Ç–∏—è',
                'verbose_name_plural': '–§–æ—Ä–º–∞—Ç—ã –∑–∞–Ω—è—Ç–∏–π',
            },
        ),
        migrations.CreateModel(
            name='Schedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(blank=True, null=True, verbose_name='–î–∞—Ç–∞')),
                ('start_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞')),
                ('end_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è')),
                ('is_active', models.BooleanField(default=True, verbose_name='–ê–∫—Ç–∏–≤–Ω–æ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
            ],
            options={
                'verbose_name': '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ',
                'verbose_name_plural': '–†–∞—Å–ø–∏—Å–∞–Ω–∏—è',
                'ordering': ['date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='Subject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ')),
                ('description', models.TextField(blank=True, verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
            ],
            options={
                'verbose_name': '–ü—Ä–µ–¥–º–µ—Ç',
                'verbose_name_plural': '–ü—Ä–µ–¥–º–µ—Ç—ã',
            },
        ),
        migrations.CreateModel(
            name='TrialRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='–ò–º—è')),
                ('email', models.EmailField(max_length=254, verbose_name='Email')),
                ('phone', models.CharField(max_length=20, verbose_name='–¢–µ–ª–µ—Ñ–æ–Ω')),
                ('subject', models.CharField(max_length=50, verbose_name='–ü—Ä–µ–¥–º–µ—Ç')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ –∑–∞—è–≤–∫–∏')),
                ('is_processed', models.BooleanField(default=False, verbose_name='–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ')),
            ],
            options={
                'verbose_name': '–ó–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫',
                'verbose_name_plural': '–ó–∞—è–≤–∫–∏ –Ω–∞ –ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫',
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='email address')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('role', models.CharField(choices=[('student', '–£—á–µ–Ω–∏–∫'), ('teacher', '–£—á–∏—Ç–µ–ª—å'), ('admin', '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä')], default='student', max_length=20, verbose_name='–†–æ–ª—å')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='–¢–µ–ª–µ—Ñ–æ–Ω')),
                ('photo', models.ImageField(blank=True, null=True, upload_to='users/', verbose_name='–§–æ—Ç–æ')),
                ('patronymic', models.CharField(blank=True, max_length=50, verbose_name='–û—Ç—á–µ—Å—Ç–≤–æ')),
                ('balance', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–ë–∞–ª–∞–Ω—Å')),
                ('is_email_verified', models.BooleanField(default=False)),
                ('email_verification_sent', models.DateTimeField(blank=True, null=True)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to.', related_name='custom_user_set', related_query_name='custom_user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='custom_user_set', related_query_name='custom_user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                'verbose_name_plural': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏',
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='EmailVerificationToken',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('token', models.CharField(default=uuid.uuid4, max_length=64, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('expires_at', models.DateTimeField()),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='email_verification_token', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–¢–æ–∫–µ–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email',
                'verbose_name_plural': '–¢–æ–∫–µ–Ω—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email',
            },
        ),
        migrations.CreateModel(
            name='Homework',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ')),
                ('description', models.TextField(verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è')),
                ('attachments', models.FileField(blank=True, null=True, upload_to='homeworks/attachments/', verbose_name='–§–∞–π–ª —Å –∑–∞–¥–∞–Ω–∏–µ–º')),
                ('deadline', models.DateTimeField(verbose_name='–°—Ä–æ–∫ —Å–¥–∞—á–∏')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è')),
                ('is_active', models.BooleanField(default=True, verbose_name='–ê–∫—Ç–∏–≤–Ω–æ')),
                ('lesson', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='homeworks', to='school.lesson', verbose_name='–£—Ä–æ–∫')),
            ],
            options={
                'verbose_name': '–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ',
                'verbose_name_plural': '–î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='lesson',
            name='format',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='school.lessonformat', verbose_name='–§–æ—Ä–º–∞—Ç'),
        ),
        migrations.CreateModel(
            name='LessonReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('topic', models.CharField(max_length=200, verbose_name='–¢–µ–º–∞ –∑–∞–Ω—è—Ç–∏—è')),
                ('covered_material', models.TextField(verbose_name='–ü—Ä–æ–π–¥–µ–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª')),
                ('homework', models.TextField(verbose_name='–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ')),
                ('student_progress', models.TextField(verbose_name='–ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–µ–Ω–∏–∫–∞')),
                ('next_lesson_plan', models.TextField(blank=True, verbose_name='–ü–ª–∞–Ω —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–Ω—è—Ç–∏—è')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('lesson', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='report', to='school.lesson', verbose_name='–ó–∞–Ω—è—Ç–∏–µ')),
            ],
            options={
                'verbose_name': '–û—Ç—á–µ—Ç –æ –∑–∞–Ω—è—Ç–∏–∏',
                'verbose_name_plural': '–û—Ç—á–µ—Ç—ã –æ –∑–∞–Ω—è—Ç–∏—è—Ö',
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='–°—É–º–º–∞')),
                ('payment_type', models.CharField(choices=[('income', '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ'), ('expense', '–°–ø–∏—Å–∞–Ω–∏–µ'), ('teacher_payment', '–í—ã–ø–ª–∞—Ç–∞ —É—á–∏—Ç–µ–ª—é')], max_length=20, verbose_name='–¢–∏–ø')),
                ('description', models.CharField(max_length=200, verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞')),
                ('lesson', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='school.lesson', verbose_name='–ó–∞–Ω—è—Ç–∏–µ')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to=settings.AUTH_USER_MODEL, verbose_name='–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–ü–ª–∞—Ç–µ–∂',
                'verbose_name_plural': '–ü–ª–∞—Ç–µ–∂–∏',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='lesson',
            name='schedule',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='lessons', to='school.schedule', verbose_name='–°–æ–∑–¥–∞–Ω–æ –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è'),
        ),
        migrations.CreateModel(
            name='ScheduleTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞')),
                ('end_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è')),
                ('duration', models.IntegerField(default=60, editable=False, verbose_name='–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç)')),
                ('repeat_type', models.CharField(choices=[('single', '–†–∞–∑–æ–≤—ã–π —É—Ä–æ–∫'), ('daily', '–ö–∞–∂–¥—ã–π –¥–µ–Ω—å'), ('weekly', '–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é'), ('biweekly', '–†–∞–∑ –≤ –¥–≤–µ –Ω–µ–¥–µ–ª–∏'), ('monthly', '–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü')], default='single', max_length=20, verbose_name='–¢–∏–ø –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è')),
                ('monday', models.BooleanField(default=False, verbose_name='–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫')),
                ('tuesday', models.BooleanField(default=False, verbose_name='–í—Ç–æ—Ä–Ω–∏–∫')),
                ('wednesday', models.BooleanField(default=False, verbose_name='–°—Ä–µ–¥–∞')),
                ('thursday', models.BooleanField(default=False, verbose_name='–ß–µ—Ç–≤–µ—Ä–≥')),
                ('friday', models.BooleanField(default=False, verbose_name='–ü—è—Ç–Ω–∏—Ü–∞')),
                ('saturday', models.BooleanField(default=False, verbose_name='–°—É–±–±–æ—Ç–∞')),
                ('sunday', models.BooleanField(default=False, verbose_name='–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ')),
                ('start_date', models.DateField(blank=True, null=True, verbose_name='–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞')),
                ('end_date', models.DateField(blank=True, null=True, verbose_name='–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è')),
                ('max_occurrences', models.PositiveIntegerField(blank=True, null=True, verbose_name='–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π')),
                ('base_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='–ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å')),
                ('base_teacher_payment', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='–ë–∞–∑–æ–≤–∞—è –≤—ã–ø–ª–∞—Ç–∞ —É—á–∏—Ç–µ–ª—é')),
                ('meeting_link', models.URLField(blank=True, verbose_name='–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ')),
                ('meeting_platform', models.CharField(blank=True, max_length=50, verbose_name='–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞')),
                ('notes', models.TextField(blank=True, verbose_name='–ó–∞–º–µ—Ç–∫–∏')),
                ('is_active', models.BooleanField(default=True, verbose_name='–ê–∫—Ç–∏–≤–Ω–æ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
                ('format', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='school.lessonformat', verbose_name='–§–æ—Ä–º–∞—Ç')),
            ],
            options={
                'verbose_name': '–®–∞–±–ª–æ–Ω —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è',
                'verbose_name_plural': '–®–∞–±–ª–æ–Ω—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è',
            },
        ),
        migrations.CreateModel(
            name='Student',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('parent_name', models.CharField(blank=True, max_length=200, verbose_name='–ò–º—è —Ä–æ–¥–∏—Ç–µ–ª—è')),
                ('parent_phone', models.CharField(blank=True, max_length=20, verbose_name='–¢–µ–ª–µ—Ñ–æ–Ω —Ä–æ–¥–∏—Ç–µ–ª—è')),
                ('notes', models.TextField(blank=True, verbose_name='–ó–∞–º–µ—Ç–∫–∏')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='student_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–£—á–µ–Ω–∏–∫',
                'verbose_name_plural': '–£—á–µ–Ω–∏–∫–∏',
            },
        ),
        migrations.CreateModel(
            name='ScheduleTemplateStudent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('individual_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å')),
                ('individual_payment', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞')),
                ('template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_settings', to='school.scheduletemplate')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedule_templates', to='school.student')),
            ],
            options={
                'verbose_name': '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ–Ω–∏–∫–∞ –≤ —à–∞–±–ª–æ–Ω–µ',
                'verbose_name_plural': '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—á–µ–Ω–∏–∫–æ–≤ –≤ —à–∞–±–ª–æ–Ω–µ',
                'unique_together': {('template', 'student')},
            },
        ),
        migrations.AddField(
            model_name='scheduletemplate',
            name='students',
            field=models.ManyToManyField(blank=True, through='school.ScheduleTemplateStudent', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫–∏'),
        ),
        migrations.CreateModel(
            name='LessonAttendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cost', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è —É—á–µ–Ω–∏–∫–∞')),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='–°–∫–∏–¥–∫–∞ %')),
                ('teacher_payment_share', models.DecimalField(decimal_places=2, help_text='–°–∫–æ–ª—å–∫–æ —É—á–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∑–∞ —ç—Ç–æ–≥–æ —É—á–µ–Ω–∏–∫–∞', max_digits=10, verbose_name='–î–æ–ª—è –≤—ã–ø–ª–∞—Ç—ã —É—á–∏—Ç–µ–ª—é')),
                ('status', models.CharField(choices=[('registered', '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'), ('attended', '–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª'), ('absent', '–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª'), ('debt', '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å')], default='registered', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('attendance_confirmed', models.BooleanField(default=False, verbose_name='–ü–æ—Å–µ—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ')),
                ('registered_at', models.DateTimeField(auto_now_add=True, verbose_name='–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω')),
                ('lesson', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendance', to='school.lesson', verbose_name='–£—Ä–æ–∫')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lesson_attendance', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫')),
            ],
            options={
                'verbose_name': '–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å —É—Ä–æ–∫–∞',
                'verbose_name_plural': '–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å —É—Ä–æ–∫–æ–≤',
                'unique_together': {('lesson', 'student')},
            },
        ),
        migrations.AddField(
            model_name='lesson',
            name='student_old',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='lessons_old', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫ (—Å—Ç–∞—Ä–æ–µ –ø–æ–ª–µ)'),
        ),
        migrations.AddField(
            model_name='lesson',
            name='students',
            field=models.ManyToManyField(related_name='lessons', through='school.LessonAttendance', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫–∏'),
        ),
        migrations.CreateModel(
            name='HomeworkSubmission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('answer_text', models.TextField(blank=True, verbose_name='–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞')),
                ('file', models.FileField(blank=True, null=True, upload_to='homeworks/submissions/', verbose_name='–§–∞–π–ª —Å —Ä–∞–±–æ—Ç–æ–π')),
                ('status', models.CharField(choices=[('submitted', '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É'), ('checked', '–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ')], default='submitted', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('grade', models.IntegerField(blank=True, null=True, verbose_name='–û—Ü–µ–Ω–∫–∞')),
                ('teacher_comment', models.TextField(blank=True, verbose_name='–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É—á–∏—Ç–µ–ª—è')),
                ('submitted_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–¥–∞—á–∏')),
                ('checked_at', models.DateTimeField(blank=True, null=True, verbose_name='–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏')),
                ('homework', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='submission', to='school.homework', verbose_name='–ó–∞–¥–∞–Ω–∏–µ')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='submissions', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫')),
            ],
            options={
                'verbose_name': '–í—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ',
                'verbose_name_plural': '–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è',
            },
        ),
        migrations.AddField(
            model_name='homework',
            name='student',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='homeworks', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫'),
        ),
        migrations.CreateModel(
            name='Deposit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='–°—É–º–º–∞')),
                ('description', models.CharField(blank=True, max_length=200, verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_deposits', to=settings.AUTH_USER_MODEL)),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='deposits', to='school.student')),
            ],
            options={
                'verbose_name': '–î–µ–ø–æ–∑–∏—Ç',
                'verbose_name_plural': '–î–µ–ø–æ–∑–∏—Ç—ã',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='scheduletemplate',
            name='subject',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç'),
        ),
        migrations.AddField(
            model_name='lesson',
            name='subject',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç'),
        ),
        migrations.AddField(
            model_name='homework',
            name='subject',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç'),
        ),
        migrations.CreateModel(
            name='Teacher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bio', models.TextField(blank=True, verbose_name='–ë–∏–æ–≥—Ä–∞—Ñ–∏—è')),
                ('education', models.TextField(blank=True, verbose_name='–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ')),
                ('experience', models.IntegerField(default=0, verbose_name='–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã (–ª–µ—Ç)')),
                ('certificate', models.FileField(blank=True, null=True, upload_to='certificates/', verbose_name='–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç')),
                ('payment_details', models.TextField(blank=True, verbose_name='–î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–ø–ª–∞—Ç')),
                ('wallet_balance', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='–ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞')),
                ('subjects', models.ManyToManyField(to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç—ã')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='teacher_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '–£—á–∏—Ç–µ–ª—å',
                'verbose_name_plural': '–£—á–∏—Ç–µ–ª—è',
            },
        ),
        migrations.CreateModel(
            name='StudentNote',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('text', models.TextField(verbose_name='–ó–∞–º–µ—Ç–∫–∞')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='teacher_notes', to='school.student')),
                ('teacher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_notes', to='school.teacher')),
            ],
            options={
                'verbose_name': '–ó–∞–º–µ—Ç–∫–∞ –æ–± —É—á–µ–Ω–∏–∫–µ',
                'verbose_name_plural': '–ó–∞–º–µ—Ç–∫–∏ –æ–± —É—á–µ–Ω–∏–∫–∞—Ö',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='student',
            name='teachers',
            field=models.ManyToManyField(blank=True, to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—è'),
        ),
        migrations.AddField(
            model_name='scheduletemplate',
            name='teacher',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedule_templates', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å'),
        ),
        migrations.AddField(
            model_name='schedule',
            name='teacher',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å'),
        ),
        migrations.CreateModel(
            name='Material',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='–ù–∞–∑–≤–∞–Ω–∏–µ')),
                ('description', models.TextField(blank=True, verbose_name='–û–ø–∏—Å–∞–Ω–∏–µ')),
                ('material_type', models.CharField(choices=[('file', '–§–∞–π–ª'), ('link', '–°—Å—ã–ª–∫–∞')], default='file', max_length=10, verbose_name='–¢–∏–ø')),
                ('file', models.FileField(blank=True, null=True, upload_to='materials/', verbose_name='–§–∞–π–ª')),
                ('link', models.URLField(blank=True, verbose_name='–°—Å—ã–ª–∫–∞')),
                ('is_public', models.BooleanField(default=False, verbose_name='–ü—É–±–ª–∏—á–Ω—ã–π')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_materials', to=settings.AUTH_USER_MODEL)),
                ('students', models.ManyToManyField(blank=True, to='school.student', verbose_name='–£—á–µ–Ω–∏–∫–∏')),
                ('subjects', models.ManyToManyField(blank=True, to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç—ã')),
                ('teachers', models.ManyToManyField(blank=True, to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—è')),
            ],
            options={
                'verbose_name': '–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª',
                'verbose_name_plural': '–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='lesson',
            name='teacher',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lessons', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å'),
        ),
        migrations.AddField(
            model_name='homework',
            name='teacher',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='given_homeworks', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å'),
        ),
        migrations.CreateModel(
            name='GroupLesson',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(verbose_name='–î–∞—Ç–∞')),
                ('start_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞')),
                ('end_time', models.TimeField(verbose_name='–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è')),
                ('duration', models.IntegerField(default=60, verbose_name='–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç)')),
                ('price_type', models.CharField(choices=[('fixed', '–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞ –≥—Ä—É–ø–ø—É'), ('per_student', '–ó–∞ –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞')], default='per_student', max_length=20, verbose_name='–¢–∏–ø –æ–ø–ª–∞—Ç—ã')),
                ('base_price', models.DecimalField(decimal_places=2, help_text='–î–ª—è per_student: —Ü–µ–Ω–∞ –∑–∞ –æ–¥–Ω–æ–≥–æ, –¥–ª—è fixed: —Ü–µ–Ω–∞ –∑–∞ –≤—Å—é –≥—Ä—É–ø–ø—É', max_digits=10, verbose_name='–ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å')),
                ('teacher_payment', models.DecimalField(decimal_places=2, help_text='–ë–∞–∑–æ–≤–∞—è –≤—ã–ø–ª–∞—Ç–∞ (–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞ —É—á–µ–Ω–∏–∫–æ–≤)', max_digits=10, verbose_name='–í—ã–ø–ª–∞—Ç–∞ —É—á–∏—Ç–µ–ª—é')),
                ('meeting_link', models.URLField(blank=True, verbose_name='–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ')),
                ('meeting_platform', models.CharField(blank=True, max_length=50, verbose_name='–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞')),
                ('video_room', models.CharField(blank=True, max_length=100, null=True, verbose_name='–ö–æ–º–Ω–∞—Ç–∞ –¥–ª—è –≤–∏–¥–µ–æ')),
                ('status', models.CharField(choices=[('scheduled', '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ'), ('completed', '–ü—Ä–æ–≤–µ–¥–µ–Ω–æ'), ('cancelled', '–û—Ç–º–µ–Ω–µ–Ω–æ'), ('no_show', '–£—á–µ–Ω–∏–∫ –Ω–µ —è–≤–∏–ª—Å—è'), ('overdue', '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ'), ('rescheduled', '–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ')], default='scheduled', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('notes', models.TextField(blank=True, verbose_name='–ó–∞–º–µ—Ç–∫–∏')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
                ('format', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='school.lessonformat', verbose_name='–§–æ—Ä–º–∞—Ç')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç')),
                ('teacher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='group_lessons', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–ì—Ä—É–ø–ø–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ',
                'verbose_name_plural': '–ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è',
                'ordering': ['-date', '-start_time'],
            },
        ),
        migrations.CreateModel(
            name='TeacherRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('average_rating', models.FloatField(default=0, verbose_name='–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª')),
                ('total_feedbacks', models.IntegerField(default=0, verbose_name='–í—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫')),
                ('rating_5_count', models.IntegerField(default=0, verbose_name='5‚≠ê')),
                ('rating_4_count', models.IntegerField(default=0, verbose_name='4‚≠ê')),
                ('rating_3_count', models.IntegerField(default=0, verbose_name='3‚≠ê')),
                ('rating_2_count', models.IntegerField(default=0, verbose_name='2‚≠ê')),
                ('rating_1_count', models.IntegerField(default=0, verbose_name='1‚≠ê')),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('teacher', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='rating_stats', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–†–µ–π—Ç–∏–Ω–≥ —É—á–∏—Ç–µ–ª—è',
                'verbose_name_plural': '–†–µ–π—Ç–∏–Ω–≥–∏ —É—á–∏—Ç–µ–ª–µ–π',
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='–ó–∞–≥–æ–ª–æ–≤–æ–∫')),
                ('message', models.TextField(verbose_name='–°–æ–æ–±—â–µ–Ω–∏–µ')),
                ('notification_type', models.CharField(choices=[('lesson_reminder', 'üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–Ω—è—Ç–∏–∏'), ('lesson_canceled', '‚ùå –ó–∞–Ω—è—Ç–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ'), ('lesson_completed', '‚úÖ –ó–∞–Ω—è—Ç–∏–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ'), ('payment_received', 'üí∞ –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤'), ('payment_withdrawn', 'üí∏ –°–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤'), ('material_added', 'üìö –ù–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª'), ('homework_assigned', 'üìù –ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ'), ('feedback_received', '‚≠ê –ù–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞'), ('system', '‚öô –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ'), ('homework_assigned', 'üìù –ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ'), ('homework_submitted', 'üì§ –ó–∞–¥–∞–Ω–∏–µ —Å–¥–∞–Ω–æ'), ('homework_checked', '‚úÖ –ó–∞–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ')], default='system', max_length=20, verbose_name='–¢–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è')),
                ('is_read', models.BooleanField(default=False, verbose_name='–ü—Ä–æ—á–∏—Ç–∞–Ω–æ')),
                ('link', models.CharField(blank=True, max_length=200, verbose_name='–°—Å—ã–ª–∫–∞')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('expires_at', models.DateTimeField(blank=True, null=True, verbose_name='–ò—Å—Ç–µ–∫–∞–µ—Ç')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL, verbose_name='–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ',
                'verbose_name_plural': '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', '-created_at'], name='school_noti_user_id_e6b623_idx'), models.Index(fields=['user', 'is_read'], name='school_noti_user_id_ca5454_idx')],
            },
        ),
        migrations.CreateModel(
            name='GroupEnrollment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cost_to_pay', models.DecimalField(decimal_places=2, help_text='–ú–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–π (—Å–∫–∏–¥–∫–∞, –∞–∫—Ü–∏—è)', max_digits=10, verbose_name='–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è —É—á–µ–Ω–∏–∫–∞')),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='–°–∫–∏–¥–∫–∞ %')),
                ('status', models.CharField(choices=[('registered', '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'), ('attended', '–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª'), ('absent', '–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª'), ('debt', '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å')], default='registered', max_length=20, verbose_name='–°—Ç–∞—Ç—É—Å')),
                ('attendance_confirmed', models.BooleanField(default=False, verbose_name='–ü–æ—Å–µ—â–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ')),
                ('registered_at', models.DateTimeField(auto_now_add=True, verbose_name='–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω')),
                ('group_lesson', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='enrollments', to='school.grouplesson', verbose_name='–ì—Ä—É–ø–ø–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='group_enrollments', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫')),
            ],
            options={
                'verbose_name': '–ó–∞–ø–∏—Å—å –Ω–∞ –≥—Ä—É–ø–ø—É',
                'verbose_name_plural': '–ó–∞–ø–∏—Å–∏ –Ω–∞ –≥—Ä—É–ø–ø—ã',
                'unique_together': {('group_lesson', 'student')},
            },
        ),
        migrations.CreateModel(
            name='StudentSubjectPrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cost', models.DecimalField(decimal_places=2, help_text='–°–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç–∏—Ç —É—á–µ–Ω–∏–∫', max_digits=10, verbose_name='–°—Ç–æ–∏–º–æ—Å—Ç—å —É—Ä–æ–∫–∞')),
                ('teacher_payment', models.DecimalField(decimal_places=2, help_text='–°–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞–µ—Ç —É—á–∏—Ç–µ–ª—å', max_digits=10, verbose_name='–í—ã–ø–ª–∞—Ç–∞ —É—á–∏—Ç–µ–ª—é')),
                ('discount', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=5, verbose_name='–°–∫–∏–¥–∫–∞ %')),
                ('valid_from', models.DateField(blank=True, null=True, verbose_name='–î–µ–π—Å—Ç–≤—É–µ—Ç —Å')),
                ('valid_to', models.DateField(blank=True, null=True, verbose_name='–î–µ–π—Å—Ç–≤—É–µ—Ç –ø–æ')),
                ('is_active', models.BooleanField(default=True, verbose_name='–ê–∫—Ç–∏–≤–Ω–æ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–°–æ–∑–¥–∞–Ω–æ')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–û–±–Ω–æ–≤–ª–µ–Ω–æ')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subject_prices', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='school.subject', verbose_name='–ü—Ä–µ–¥–º–µ—Ç')),
            ],
            options={
                'verbose_name': '–¶–µ–Ω–∞ –¥–ª—è —É—á–µ–Ω–∏–∫–∞',
                'verbose_name_plural': '–¶–µ–Ω—ã –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤',
                'ordering': ['student', 'subject'],
                'unique_together': {('student', 'subject')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='schedule',
            unique_together={('teacher', 'date', 'start_time')},
        ),
        migrations.CreateModel(
            name='LessonFeedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.IntegerField(choices=[(1, '‚≠ê –£–∂–∞—Å–Ω–æ'), (2, '‚≠ê‚≠ê –ü–ª–æ—Ö–æ'), (3, '‚≠ê‚≠ê‚≠ê –ù–æ—Ä–º–∞–ª—å–Ω–æ'), (4, '‚≠ê‚≠ê‚≠ê‚≠ê –•–æ—Ä–æ—à–æ'), (5, '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –û—Ç–ª–∏—á–Ω–æ')], verbose_name='–û—Ü–µ–Ω–∫–∞')),
                ('comment', models.TextField(blank=True, help_text='–ß—Ç–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å? –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?', verbose_name='–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π')),
                ('is_public', models.BooleanField(default=False, help_text='–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ?', verbose_name='–ü—É–±–ª–∏—á–Ω—ã–π –æ—Ç–∑—ã–≤')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è')),
                ('lesson', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='feedback', to='school.lesson', verbose_name='–£—Ä–æ–∫')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='feedbacks', to='school.student', verbose_name='–£—á–µ–Ω–∏–∫')),
                ('teacher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='feedbacks', to='school.teacher', verbose_name='–£—á–∏—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–û—Ü–µ–Ω–∫–∞ —É—Ä–æ–∫–∞',
                'verbose_name_plural': '–û—Ü–µ–Ω–∫–∏ —É—Ä–æ–∫–æ–≤',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['teacher', '-created_at'], name='school_less_teacher_5a8524_idx'), models.Index(fields=['student', '-created_at'], name='school_less_student_7bee19_idx'), models.Index(fields=['rating'], name='school_less_rating_90c6f1_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='homework',
            index=models.Index(fields=['student', 'deadline'], name='school_home_student_9a79ca_idx'),
        ),
        migrations.AddIndex(
            model_name='homework',
            index=models.Index(fields=['teacher', '-created_at'], name='school_home_teacher_1bda42_idx'),
        ),
    ]
