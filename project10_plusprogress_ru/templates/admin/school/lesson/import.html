{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}
{{ block.super }}
<style>
    .import-container {
        max-width: 700px;
        margin: 30px auto;
        padding: 30px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .import-container h1 {
        color: #417690;
        margin-bottom: 25px;
        font-size: 28px;
        border-bottom: 3px solid #79aec8;
        padding-bottom: 10px;
    }

    .form-group {
        margin-bottom: 25px;
    }

    .form-group label {
        display: block;
        margin-bottom: 10px;
        font-weight: bold;
        color: #333;
        font-size: 16px;
    }

    .form-group input[type="file"] {
        width: 100%;
        padding: 12px;
        border: 2px dashed #79aec8;
        border-radius: 6px;
        background: #f8f9fa;
        font-size: 14px;
    }

    .form-group input[type="file"]:hover {
        border-color: #417690;
        background: #e9ecef;
    }

    .help-text {
        font-size: 13px;
        color: #666;
        margin-top: 8px;
    }

    .button-group {
        display: flex;
        gap: 15px;
        margin-top: 30px;
    }

    .button {
        padding: 12px 25px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 500;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .button.primary {
        background: #28a745;
        color: white;
    }

    .button.primary:hover {
        background: #218838;
    }

    .button.secondary {
        background: #6c757d;
        color: white;
    }

    .button.secondary:hover {
        background: #5a6268;
    }

    .template-section {
        margin: 30px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid #17a2b8;
    }

    .template-section h3 {
        margin-top: 0;
        color: #17a2b8;
        font-size: 18px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .template-link {
        display: inline-block;
        margin-top: 10px;
        padding: 8px 16px;
        background: #17a2b8;
        color: white;
        text-decoration: none;
        border-radius: 4px;
    }

    .template-link:hover {
        background: #138496;
    }

    .info-box {
        background: #e7f3ff;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #007bff;
        margin-top: 25px;
    }

    .info-box h3 {
        margin-top: 0;
        color: #0056b3;
        font-size: 16px;
    }

    .info-box ul {
        margin-bottom: 0;
        padding-left: 20px;
    }

    .info-box li {
        margin-bottom: 8px;
        color: #333;
    }

    .status-badge {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
    }

    .status-scheduled {
        background: #007bff;
        color: white;
    }

    .status-completed {
        background: #28a745;
        color: white;
    }

    .status-cancelled {
        background: #dc3545;
        color: white;
    }

    .status-overdue {
        background: #ffc107;
        color: #333;
    }
</style>
{% endblock %}

{% block content %}
<div class="import-container">
    <h1>üì• –ò–º–ø–æ—Ä—Ç —É—Ä–æ–∫–æ–≤</h1>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="form-group">
            <label>üìé –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞:</label>
            <input type="file" name="file" accept=".csv,.xlsx,.xls" required>
            <div class="help-text">
                –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: Excel (.xlsx, .xls) –∏ CSV (.csv)
            </div>
        </div>

        <div class="template-section">
            <h3>
                <i class="fa fa-download"></i>
                –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω
            </h3>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:</p>
            <a href="{% url 'admin-lesson-import-template' %}" class="template-link">
                üìä import_lessons_template.xlsx
            </a>
        </div>

        <div class="info-box">
            <h3>üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–π–ª—É:</h3>
            <ul>
                <li><strong>–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞</strong> - –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–∫–∞–∫ –≤ —à–∞–±–ª–æ–Ω–µ)</li>
                <li><strong>–î–∞—Ç–∞</strong> - —Ñ–æ—Ä–º–∞—Ç –î–î.–ú–ú.–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä, 01.03.2026)</li>
                <li><strong>–í—Ä–µ–º—è</strong> - —Ñ–æ—Ä–º–∞—Ç –ß–ß:–ú–ú (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10:00)</li>
                <li><strong>–£—á–∏—Ç–µ–ª—å/–£—á–µ–Ω–∏–∫</strong> - —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ —Ñ–∞–º–∏–ª–∏–∏ (–¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ)</li>
                <li><strong>–°—Ç–∞—Ç—É—Å</strong> - –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:</li>
                <ul style="margin-top: 5px;">
                    <li><span class="status-badge status-scheduled">scheduled</span> - –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</li>
                    <li><span class="status-badge status-completed">completed</span> - –ø—Ä–æ–≤–µ–¥–µ–Ω–æ</li>
                    <li><span class="status-badge status-cancelled">cancelled</span> - –æ—Ç–º–µ–Ω–µ–Ω–æ</li>
                    <li><span class="status-badge status-overdue">overdue</span> - –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</li>
                </ul>
                <li><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å</strong> - —á–∏—Å–ª–æ, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Ç–æ—á–∫–∞ –∏–ª–∏ –∑–∞–ø—è—Ç–∞—è</li>
            </ul>
        </div>

        <div class="button-group">
            <button type="submit" class="button primary">
                <i class="fa fa-upload"></i> –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
            </button>
            <a href="{% url 'admin:school_lesson_changelist' %}" class="button secondary">
                <i class="fa fa-times"></i> –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
{% endblock %}