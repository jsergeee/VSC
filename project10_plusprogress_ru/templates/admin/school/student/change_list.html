{% extends "admin/change_list.html" %}
{% load i18n static %}

<!-- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –±–ª–æ–∫ object-tools-items, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
{% block object-tools-items %}
<!-- –ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–æ–¥–∏–º - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–∫—Ä—ã—Ç—ã -->
{% endblock %}

{% block content %}
<div id="content-main">
    <!-- –ù–∞—à–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π -->
    <div style="margin-bottom: 10px; text-align: right;">
        <div style="display: inline-block; position: relative;">
            <button onclick="toggleActions()" style="background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">
                ‚ö° –î–µ–π—Å—Ç–≤–∏—è —Å —É—á–µ–Ω–∏–∫–∞–º–∏ <span id="actionsIcon">‚ñº</span>
            </button>

            <div id="actionsMenu" style="display: none; position: absolute; right: 0; top: 100%; background: white; border: 1px solid #ddd; border-radius: 4px; margin-top: 5px; z-index: 1000; min-width: 200px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <ul style="list-style: none; margin: 0; padding: 0;">
                    <li style="border-bottom: 1px solid #eee;">
                        <a href="{% url 'admin:school_student_add' %}" style="display: block; padding: 10px 15px; text-decoration: none; color: #333;">
                            ‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
                        </a>
                    </li>
                    <li style="border-bottom: 1px solid #eee;">
                        <a href="{% url 'import-students' %}" style="display: block; padding: 10px 15px; text-decoration: none; color: #333;">
                            üì• –ò–º–ø–æ—Ä—Ç —É—á–µ–Ω–∏–∫–æ–≤ –∏–∑ Excel
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'import_users' %}" style="display: block; padding: 10px 15px; text-decoration: none; color: #333;">
                            üë• –ò–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    {{ block.super }}
</div>

<script>
    function toggleActions() {
        var menu = document.getElementById('actionsMenu');
        var icon = document.getElementById('actionsIcon');

        if (menu.style.display === 'none') {
            menu.style.display = 'block';
            icon.innerHTML = '‚ñ≤';
        } else {
            menu.style.display = 'none';
            icon.innerHTML = '‚ñº';
        }
    }

    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
    document.addEventListener('click', function (event) {
        var menu = document.getElementById('actionsMenu');
        var button = event.target.closest('button');

        if (!button || !button.innerText.includes('‚ö° –î–µ–π—Å—Ç–≤–∏—è')) {
            menu.style.display = 'none';
            document.getElementById('actionsIcon').innerHTML = '‚ñº';
        }
    });
</script>
{% endblock %}